<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en" dir="ltr">
<head>
<meta http-equiv="Content-Type" content="text/html">
<meta http-equiv="Content-Style-Type" content="text/css">
<title>viewtopic.php</title>
<link rel="stylesheet" type="text/css" href="css/styles.css" />
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#006699" vlink="#006699">
<script type="text/javascript" src="js/toggle_frame.js"></script>
<script type="text/javascript"><!--
toggle_frame.init(
	['images/toggle_frame_hide.gif','images/toggle_frame_show.gif'],
	['Hide Navigation!','Show Navigation!']
);
//--></script>
<table cellpadding="10" cellspacing="0" border="0" width="100%">
	<tr>
		<td>
			<table cellpadding="10" cellspacing="0" border="0" width="100%" class="bodyline">
				<tr>
					<td align="center" colspan="2"><span class="maintitle">viewtopic.php</span></td>
				</tr>
			</table>
		</td>
	</tr>
</table>
<script type="text/javascript" src="js/select_onclick.js"></script>
<script type="text/javascript" src="js/dom_page_state.js"></script>
<script type="text/javascript"><!--
select_onclick.init(
	'Click me to select the text!'
);
dom_page_state.init(
	'action_862',
	['buttonswrapper','buttoncheckoff','buttoncheckon'],
	['checkmousedown','checkmouseup']
);
//--></script>
<table cellpadding="10" cellspacing="0" border="0" width="100%">
	<tr>
		<td>
			<ul>
			<li><h3 class="h3">FIND:</h3>
				<pre class="code" id="code0">if ( !isset($topic_id) &amp;&amp; !isset($post_id) )
</pre>
			</li>
			<li><h3 class="h3">REPLACE WITH:</h3>
				<pre class="code" id="code1">if (!$topic_id &amp;&amp; !$post_id)
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="code" id="code2">				AND t.topic_last_post_id $sql_condition t2.topic_last_post_id
</pre>
			</li>
			<li><h3 class="h3">BEFORE, ADD:</h3>
				<pre class="code" id="code3">				AND t.topic_moved_id = 0
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="comment"> NOTE --- This is a partial match, the whole line on a fresh installation looks like this:
	$join_sql_table = ( empty($post_id) ) ? '' : &quot;, &quot; . POSTS_TABLE . &quot; p, &quot; . POSTS_TABLE . &quot; p2 &quot;;</pre>
				<pre class="code" id="code4">$join_sql_table = ( empty($post_id) )
</pre>
			</li>
			<li><h3 class="h3">IN-LINE FIND:</h3>
				<pre class="code" id="code5">( empty($post_id) )
</pre>
			</li>
			<li><h3 class="h3">IN-LINE REPLACE WITH:</h3>
				<pre class="code" id="code6">(!$post_id)
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="comment"> NOTE --- This is a partial match, the whole line on a fresh installation looks like this:
	$join_sql = ( empty($post_id) ) ? &quot;t.topic_id = $topic_id&quot; : &quot;p.post_id = $post_id AND t.topic_id = p.topic_id AND p2.topic_id = p.topic_id AND p2.post_id &lt;= $post_id&quot;;</pre>
				<pre class="code" id="code7">$join_sql = ( empty($post_id) )
</pre>
			</li>
			<li><h3 class="h3">IN-LINE FIND:</h3>
				<pre class="code" id="code8">( empty($post_id) )
</pre>
			</li>
			<li><h3 class="h3">IN-LINE REPLACE WITH:</h3>
				<pre class="code" id="code9">(!$post_id)
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="comment"> NOTE --- This is a partial match, the whole line on a fresh installation looks like this:
	$count_sql = ( empty($post_id) ) ? '' : &quot;, COUNT(p2.post_id) AS prev_posts&quot;;</pre>
				<pre class="code" id="code10">$count_sql = ( empty($post_id) )
</pre>
			</li>
			<li><h3 class="h3">IN-LINE FIND:</h3>
				<pre class="code" id="code11">( empty($post_id) )
</pre>
			</li>
			<li><h3 class="h3">IN-LINE REPLACE WITH:</h3>
				<pre class="code" id="code12">(!$post_id)
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="comment"> NOTE --- This is a partial match, the whole line on a fresh installation looks like this:
	$order_sql = ( empty($post_id) ) ? '' : &quot;GROUP BY p.post_id, t.topic_id, t.topic_title, t.topic_status, t.topic_replies, t.topic_time, t.topic_type, t.topic_vote, t.topic_last_post_id, f.forum_name, f.forum_status, f.forum_id, f.auth_view, f.auth_read, f.auth_post, f.auth_reply, f.auth_edit, f.auth_delete, f.auth_sticky, f.auth_announce, f.auth_pollcreate, f.auth_vote, f.auth_attachments ORDER BY p.post_id ASC&quot;;</pre>
				<pre class="code" id="code13">$order_sql = ( empty($post_id) )
</pre>
			</li>
			<li><h3 class="h3">IN-LINE FIND:</h3>
				<pre class="code" id="code14">( empty($post_id) )
</pre>
			</li>
			<li><h3 class="h3">IN-LINE REPLACE WITH:</h3>
				<pre class="code" id="code15">(!$post_id)
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="code" id="code16">		$redirect = ( isset($post_id) ) ? POST_POST_URL . &quot;=$post_id&quot; : POST_TOPIC_URL . &quot;=$topic_id&quot;;
		$redirect .= ( isset($start) ) ? &quot;&amp;start=$start&quot; : '';
</pre>
			</li>
			<li><h3 class="h3">REPLACE WITH:</h3>
				<pre class="code" id="code17">		$redirect = ($post_id) ? POST_POST_URL . &quot;=$post_id&quot; : POST_TOPIC_URL . &quot;=$topic_id&quot;;
		$redirect .= ($start) ? &quot;&amp;start=$start&quot; : '';
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="code" id="code18">if ( !empty($post_id) )
</pre>
			</li>
			<li><h3 class="h3">REPLACE WITH:</h3>
				<pre class="code" id="code19">if ($post_id)
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="code" id="code20">			$highlight_match .= (($highlight_match != '') ? '|' : '') . str_replace('*', '\w*', phpbb_preg_quote($words[$i], '#'));
</pre>
			</li>
			<li><h3 class="h3">REPLACE WITH:</h3>
				<pre class="code" id="code21">			$highlight_match .= (($highlight_match != '') ? '|' : '') . str_replace('*', '\w*', preg_quote($words[$i], '#'));
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="comment"> NOTE --- This is a partial match, the whole line on a fresh installation looks like this:
	$search_img = '&lt;a href=&quot;' . $temp_url . '&quot;&gt;&lt;img src=&quot;' . $images['icon_search'] . '&quot; alt=&quot;' . $lang['Search_user_posts'] . '&quot; title=&quot;' . sprintf($lang['Search_user_posts'], $postrow[$i]['username']) . '&quot; border=&quot;0&quot; /&gt;&lt;/a&gt;';</pre>
				<pre class="code" id="code22">$search_img = '&lt;a href=&quot;'
</pre>
			</li>
			<li><h3 class="h3">IN-LINE FIND:</h3>
				<pre class="code" id="code23">. $lang['Search_user_posts']
</pre>
			</li>
			<li><h3 class="h3">IN-LINE REPLACE WITH:</h3>
				<pre class="code" id="code24">. sprintf($lang['Search_user_posts'], $postrow[$i]['username'])
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="code" id="code25">	if ( $board_config['allow_bbcode'] )
	{
		if ( $user_sig != '' &amp;&amp; $user_sig_bbcode_uid != '' )
		{
</pre>
			</li>
			<li><h3 class="h3">REPLACE WITH:</h3>
				<pre class="code" id="code26">	if ($user_sig != '' &amp;&amp; $user_sig_bbcode_uid != '')
	{
</pre>
			</li>
			<li><h3 class="h3">FIND:</h3>
				<pre class="code" id="code27">			$user_sig = ( $board_config['allow_bbcode'] ) ? bbencode_second_pass($user_sig, $user_sig_bbcode_uid) : preg_replace('/\:[0-9a-z\:]+\]/si', ']', $user_sig);
		}

		if ( $bbcode_uid != '' )
		{
			$message = ( $board_config['allow_bbcode'] ) ? bbencode_second_pass($message, $bbcode_uid) : preg_replace('/\:[0-9a-z\:]+\]/si', ']', $message);
		}
	}
</pre>
			</li>
			<li><h3 class="h3">REPLACE WITH:</h3>
				<pre class="code" id="code28">		$user_sig = ($board_config['allow_bbcode']) ? bbencode_second_pass($user_sig, $user_sig_bbcode_uid) : preg_replace(&quot;/\:$user_sig_bbcode_uid/si&quot;, '', $user_sig);
	}

	if ($bbcode_uid != '')
	{
		$message = ($board_config['allow_bbcode']) ? bbencode_second_pass($message, $bbcode_uid) : preg_replace(&quot;/\:$bbcode_uid/si&quot;, '', $message);
	}
</pre>
			</li>
			</ul>
		</td>
	</tr>
</table>
<div id="buttonswrapper" style="display:none;"><table cellpadding="10" cellspacing="0" border="0" width="100%">
	<tr>
		<td align="center">
			<img src="images/spacer.gif" width="1" height="40" alt="" />
			<hr /><br />
			<div id="buttoncheckoff" class="checkmouseup" style="display:none;">Mark as Unprocessed <img src="images/icon_check_off.gif" border="0" alt="" /></div>
			<div id="buttoncheckon"  class="checkmouseup" style="display:none;">Mark as Processed <img src="images/icon_check_on.gif" border="0" alt="" /></div>
		</td>
	</tr>
</table></div>
<div style="margin:10px;"><hr /><div class="copyright" style="text-align:center;">Copyright &copy; phpBB Group, 2005, All Rights Reserved</div></div>
</body>
</html>
